# Migrating from 0.3.XX to 1.0.0

## Camera2D

### Camera2D.new

{Camera2D#initialize} now takes in keyword arguments and provides sane defaults.
So if you have a {Camera2D} initialized like this.

```ruby
camera = Camera2D.new(Vector2.new(0, 0), Vector2.new(0, 0), 0, 1)
```

You can now just do this.

```ruby
camera = Camera2D.new
```

But if you need to specify just one of the arguments, you can now easily do so
like this.

```ruby
camera = Camera2D.new(target: Vector2[400, 240])
```

### Camera2D.drawing

{Camera2D#drawing} has now been renamed {Camera2D#draw}, so this.

```ruby
camera = Camera2D.new(Vector2.new(0, 0), Vector2.new(0, 0), 0, 1)

camera.drawing {
  Rectangle.new(10, 10, 50, 50).draw(colour: RED)
}
```

Is now this.

```ruby
camera = Camera2D.new

camera.draw {
  Rectangle.new(10, 10, 50, 50).draw(colour: RED)
}
```

## Colour

### Colour.new

You now need to specify keyword arguments. So instead of calling:
```ruby
colour = Colour.new(128, 128, 0, 255)
```

You should now call:
```ruby
colour = Colour.new(red: 128, blue: 128, green: 0, alpha: 255)
```

Or you could call it this way:
```ruby
colour = Colour[128, 128, 0]
```

### Constants

All the {Colour} constants have been namespaced. So instead of these
```ruby
LIGHTGRAY
GRAY
DARKGRAY
YELLOW
GOLD
ORANGE
PINK
RED
MAROON
GREEN
LIME
DARKGREEN
SKYBLUE
BLUE
DARKBLUE
PURPLE
VIOLET
DARKPURPLE
BEIGE
BROWN
DARKBROWN
WHITE
BLACK
BLANK
MAGENTA
RAYWHITE
```

You should now call these
```ruby
Colour::LIGHTGRAY
Colour::GRAY
Colour::DARKGRAY
Colour::YELLOW
Colour::GOLD
Colour::ORANGE
Colour::PINK
Colour::RED
Colour::MAROON
Colour::GREEN
Colour::LIME
Colour::DARKGREEN
Colour::SKYBLUE
Colour::BLUE
Colour::DARKBLUE
Colour::PURPLE
Colour::VIOLET
Colour::DARKPURPLE
Colour::BEIGE
Colour::BROWN
Colour::DARKBROWN
Colour::WHITE
Colour::BLACK
Colour::BLANK
Colour::MAGENTA
Colour::RAYWHITE
```

## Image

### Image.load

This has been replaced by {Image#initialize}.

Instead of calling:
```ruby
image = Image.load("./assets/image.png")
```

you should instead call:
```ruby
image = Image.new("./assets/image.png")
```

### Image.generate

The default colour is now {Colour::BLANK}.

instead of calling:
```ruby
image = Image.generate(width: 16, height: 8)
```

you should instead call:
```ruby
image = Image.generate(width: 16, height: 8, colour: Colour::RAYWHITE)
```

### Image#resize!

The keyword argument `scaling` has now become `scaler`. The error message has
also been changed but is still an {ArgumentError}.

Instead of calling:
```ruby
image = Image.load("./assets/image.png")
image.resize!(width: 1920, height: 1080, scaling: :bicubic)
```

you should instead call:
```ruby
image = Image.new("./assets/image.png")
image.resize!(width: 1920, height: 1080, scaler: :bicubic)
```

### Image#crop!

This has been changed to take a keyword argument instead.

Instead of calling:
```ruby
image = Image.load("./assets/spritesheet.png")
image.resize!(Rectangle.new(0, 0, 8, 8))
```

you should instead call:
```ruby
image = Image.new("./assets/spritesheet.png")
image.resize!(source: Rectangle[0, 0, 8, 8])
```

### Image#alpha_mask=

This has been replaced by {Image#alpha_mask!}.

Instead of calling:
```ruby
image = Image.load("./assets/sprite.png")
mask = Image.load("./assets/sprite_mask.png")
image.alpha_mask = mask
```

you should instead call:
```ruby
image = Image.new("./assets/sprite.png")
mask = Image.new("./assets/sprite_mask.png")
image.alpha_mask!(mask)
```

### Image#flip_vertical!

This has been replaced by {Image#flip_vertically!}.

Instead of calling:
```ruby
image = Image.load("./assets/sprite.png")
image.flip_vertical!
```

you should instead call:
```ruby
image = Image.new("./assets/sprite.png")
image.flip_vertically!
```

### Image#flip_horizontal!

This has been replaced by {Image#flip_horizontally!}.

Instead of calling:
```ruby
image = Image.load("./assets/sprite.png")
image.flip_horizontal!
```

you should instead call:
```ruby
image = Image.new("./assets/sprite.png")
image.flip_horizontally!
```

### Image#rotate!

This has been replaced by {Image#rotate_clockwise!} and
{Image#rotate_counter_clockwise!}.

Instead of calling:
```ruby
sprite = Image.load("./assets/sprite.png")
copy = sprite.copy
sprite.rotate!(:cw)
copy.rotate!(:ccw)
```

you should instead call:
```ruby
sprite = Image.new("./assets/sprite.png")
copy = sprite.copy
sprite.rotate_clockwise!
copy.rotate_counter_clockwise!
```

### Image#tint!

This now takes a keyword argument of `colour`.

Instead of calling:
```ruby
sprite = Image.load("./assets/sprite.png")
sprite.tint!(GREEN)
```

you should instead call:
```ruby
sprite = Image.new("./assets/sprite.png")
sprite.tint!(colour: GREEN)
```

### Image#grayscale!

This has been renamed to {Image#greyscale!}.

Instead of calling:
```ruby
sprite = Image.load("./assets/sprite.png")
sprite.grayscale!
```

you should instead call:
```ruby
sprite = Image.new("./assets/sprite.png")
sprite.greyscale!
```

### Image#replace!

This method now takes keyword arguments.

Instead of calling:
```ruby
sprite = Image.load("./assets/sprite.png")
sprite.replace!(GREEN, BLUE)
```

you should instead call:
```ruby
sprite = Image.new("./assets/sprite.png")
sprite.replace!(from: Colour::GREEN, to: Colour::BLUE)
```

## Vector2

### Vector2.new

You are now able to create new {Vector2} records with `[]`.

```ruby
puts Vector2.new(1, 2) == Vector2[1, 2]
# => true
```

## Font

### Font#load

This has been replaced by {Font#initialize}.

Instead of calling:
```ruby
font = Font.load("./assets/my_font.ttf", size: 16)
```

you should instead call:
```ruby
font = Font.new("./assets/my_font.ttf", size: 16)
```

### Font#base_size

This has been renamed to `size`.

```ruby
font = Font.new("./assets/my_font.ttf", size: 16)

puts font.size
# => 16
```

### Font#to_h

The `base_size` key has been renamed to `size`.

```ruby
font = Font.new("./assets/my_font.ttf", size: 16)

p font.to_h
# => {
#      :size=>16,
#      :glyph_count=>95,
#      :glyph_padding=>4,
#      :texture=>{
#        :id=>3.0,
#        :width=>512.0,
#        :height=>512.0,
#        :mipmaps=>1.0,
#        :format=>2.0
#      }
#    }
```

### Font#draw

When drawing a font to the screen, you now no longer need to specify a {Vector2}
yourself, you can just pass `x` and `y` like this.
```ruby
font.draw("hello", x: 16, y: 42)
```

But passing `position` is still supported, so this still works.
```ruby
font.draw("hello", position: Vector2.new(16, 42))
```

### Font#to_image

The `padding` argument is now `spacing` to be more consistent and more
accurately represent what it does.
```ruby
font.to_image("hello", padding: 3)
```

becomes:
```ruby
font.to_image("hello", spacing: 3)
```

## Music

### Music.load

This has been replaced by {Music#initialize}.

Instead of calling:
```ruby
font = Music.load("./assets/music.ogg")
```

you should instead call:
```ruby
font = Music.new("./assets/music.ogg")
```

### Music#context_type=

This has been removed as I don't see a need to update the underlying C struct
information.

### Music#frame_count=

This has been removed as I don't see a need to update the underlying C struct
information.

## Top Level Namespace

### #load_font

This has been removed in favour of {Font#initialize}.

### #unload_font

This has been removed in favour of {Font#unload}.

### #draw_text

This has been removed in favour of {Font#draw}.

### #draw_text_ex

This has been removed in favour of {Font#draw}.

### #measure_text_ex

This has been removed in favour of {Font#measure}.

### #image_text_ex

This has been removed in favour of {Font#to_image}.

### #begin_mode2D

This has been removed in favour of {Camera2D#draw}.

### #end_mode2D

This has been removed in favour of {Camera2D#draw}.

### #get_world_to_screen2D

This has been removed in favour of {Camera2D#as_in_viewport}

### #get_screen_to_world2D

This has been removed in favour of {Camera2D#as_in_world}

### #load_image

This has been removed in favour of {Image#initialize}

### #unload_image

This has been removed in favour of {Image#unload}

### #export_image

This has been removed in favour of {Image#export}

### #image_copy

This has been removed in favour of {Image#copy}

### #image_from_image

This has been removed in favour of {Image#copy} with `source` specified

### #image_text_ex

This has been removed in favour of {Font#to_image}

### #generate_image_colour

This has been removed in favour of {Image.generate}

### #image_resize!

This has been removed in favour of {Image#resize!}

### #image_resize_nearest_neighbour!

This has been removed in favour of {Image#resize!}

### #image_crop!

This has been removed in favour of {Image#crop!}

### #image_flip_vertical!

This has been removed in favour of {Image#flip_vertically!}

### #image_flip_horizontal!

This has been removed in favour of {Image#flip_horizontally!}

### #image_rotate_cw!

This has been removed in favour of {Image#rotate_clockwise!}

### #image_rotate_ccw!

This has been removed in favour of {Image#rotate_counter_clockwise!}

### #load_texture_from_image

This has been removed in favour of {Image#to_texture}

### #image_alpha_premultiply

This has been removed in favour of {Image#premultiply_alpha!}

### #image_mipmaps!

This has been removed in favour of {Image#generate_mipmaps!}

### #image_colour_tint!

This has been removed in favour of {Image#tint!}

### #image_colour_invert!

This has been removed in favour of {Image#invert!}

### #image_colour_grayscale!

This has been removed in favour of {Image#greyscale!}

### #image_colour_contrast!

This has been removed in favour of {Image#contrast!}

### #image_colour_brightness!

This has been removed in favour of {Image#brightness!}

### #image_colour_replace!

This has been removed in favour of {Image#replace!}

### #image_draw!

This has been removed in favour of {Image#draw!}

### #init_audio_device

This has been removed in favour of {Audio.open}

### #close_audio_device

This has been removed in favour of {Audio.close}

### #audio_device_ready

This has been removed in favour of {Audio.ready?}

### #set_master_volume

This has been removed in favour of {Audio.volume=} and now takes a volume
between 0 and 100.

Instead of calling:
```ruby
init_audio_device
set_master_volume(0.7)
close_audio_device
```

You should instead call:
```ruby
Audio.open
Audio.volume = 70
Audio.close
```

### #load_music_stream

This has been removed in favour of {Music#initialize}.

### #unload_music_stream

This has been removed in favour of {Music#unload}.

### #play_music_stream

This has been removed in favour of {Music#play}.

### #music_playing?

This has been removed in favour of {Music#playing?}.

### #stop_music_stream

This has been removed in favour of {Music#stop}.

### #get_music_time_played

This has been removed in favour of {Music#played}.

### #update_music_stream

This has been removed in favour of {Music#update}.
